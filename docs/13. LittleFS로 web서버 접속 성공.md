# LittleFS 이미지 업로드 성공
    FS 파티션: 0x00610000 ~ 0x00F6FFFF (대략 9.38MB)
    이번에 data/ 안에는 3개 파일만 존재: /index.html, /drone.css, /drone.js

## platformio.ini
```
; LittleFS + data 폴더 고정 => 성능이 모자라 안된다.
board_build.filesystem = littlefs
board_build.partitions = partitions.csv    ; 위에서 수정한 CSV 경로
```

## partitions.csv
```
# Name      , Type, SubType, Offset   ,  Size
nvs,          data, nvs,     0x9000   , 0x5000
otadata,      data, ota,     0xE000   , 0x2000
app0,         app,  ota_0,   0x10000  , 0x300000    ; 3MB
app1,         app,  ota_1,   0x310000 , 0x300000    ; 3MB
storage,      data, spiffs,  0x610000 , 0x9F0000    ; ≈10MB, 16MB 끝까지
```
    - 앱이 1MB도 안 되는 상황이라면 OTA 슬롯을 각 3MB(0x300000) 로 줄이고, 그 뒤를 전부 FS로 쓰는 구성이 실용적입니다.
    - 장점: FS를 대폭(약 10MB) 확보 + OTA 유지.
    - 단점: OTA 슬롯이 3MB로 줄어듭니다(대부분의 프로젝트에 충분).

## 1. nvs, data, nvs, 0x9000, 0x5000

- NVS(Non-Volatile Storage): 환경설정/키-밸류를 저장.

- 0x9000(36KB)부터 0x5000(20KB) 사용.

## 2. otadata, data, ota, 0xE000, 0x2000

- OTA 메타데이터: 현재 부팅 슬롯(app0/app1)과 카운터 저장. 부트로더가 참고.

- 0xE000부터 0x2000(8KB).

## 3. app0, app, ota_0, 0x10000, 0x300000

- 펌웨어 슬롯 A(OTA용). 3 MiB(0x300000).

- 일반적으로 펌웨어 이미지는 여기로 올라갑니다.

## 4. app1, app, ota_1, 0x310000, 0x300000

- 펌웨어 슬롯 B(OTA용). 3 MiB.

- OTA 업데이트 시 새 펌웨어를 이 슬롯에 먼저 쓰고, 부트 성공 후 활성화.

## 5. storage, data, spiffs, 0x610000, 0x9F0000

- 파일시스템 파티션. CSV에서는 SubType을 spiffs로 표기하지만,
  PlatformIO 설정이 board_build.filesystem = littlefs라면 실제 드라이버는 LittleFS가 사용됩니다.

- 라벨이 storage이므로 LittleFS.begin(..., "storage")처럼 라벨로 마운트 가능.

- 크기: 0x9F0000 = 10,420,224 bytes ≈ 9.94 MiB.

- 시작 0x610000(= 6,356,992) + 크기 0x9F0000 = 0x1000000(=16MiB) → 16MB 플래시 끝까지 꽉 채움.

- 참고) CSV에 bootloader(0x0000~), partition table(0x8000~) 은 보통 따로 고정되며 CSV엔 안 쓰는 게 일반적입니다.
- 표의 app0가 0x10000에서 시작하는 이유가 이것 때문이에요.